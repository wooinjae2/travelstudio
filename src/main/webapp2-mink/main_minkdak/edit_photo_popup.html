<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="./OwlCarousel/dist/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="./OwlCarousel/dist/assets/owl.theme.default.min.css">
  <link rel="stylesheet" type="text/css" href="edit_photo_popup.css">

  <script src="./node_modules/jquery/dist/jquery.min.js"></script>
  <script src="./OwlCarousel/dist/owl.carousel.min.js"></script>
</head>

<body>
  <div class="edit_react_window">
    <div class="edit_window">
      <div class="edit_input">

        <div class="files_container">
          <div class="table_files" id="tbfiles">
            <div class="files_date">2017. 07. 23, 계곡9999999999999999dfdfasdfsda99999999999</div>

            <div class="files_wrap">

            <a href="#" onclick="aa('ab');">
              <div class="file" type="image">
                <div class="file_icon">
                  <img class="thumb" src='img/vally.jpg' style="background-size: contain;">
                </div>
                <div class="name">vally.jpg</div>
              </div>
              <div id="ab" style="display: none">
              </div>
            </a>

          <a href="#" onclick="aa('ab2');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/aa.jpg' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab2" style="display: none"></div>

          </a>

          <a href="#" onclick="aa('ab3');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/ab.jpg' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab3" style="display: none"></div>

          </a>


          <a href="#" onclick="aa('ab4');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/ac.png' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab4" style="display: none"></div>

          </a>


          <a href="#" onclick="aa('ab5');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/ad.jpg' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab5" style="display: none"></div>

          </a>


          <a href="#" onclick="aa('ab6');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/kr.png' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab6" style="display: none"></div>

          </a>


          <a href="#" onclick="aa('ab7');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/fr.png' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab7" style="display: none"></div>

          </a>


          <a href="#" onclick="aa('ab8');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/travel.jpg' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab8" style="display: none"></div>
          </a>

          <a href="#" onclick="aa('ab9');">
            <div class="file" type="image">
              <div class="file_icon">
                <img class="thumb" src='img/dlfqks.jpg' style="background-size: contain;">
              </div>
              <div class="name">vally.jpg</div>
            </div>
            <div id="ab9" style="display: none"></div>
          </a>
        </div>
        <!-- files_wrap -->

          </div>
          <!-- "table_files" -->
        </div>

        <!--"files_container"-->
        <div class="edit_settings">
          <div class="contents">
            <div class="contents_wrap">
              <div class="group">
                <div class="edit_group">새 그룹</div>
                <div class="edit_ungroup">해제</div>
                <div class="edit_delete">삭제</div>
              </div>
              <div class="save">
                <div class="edit_save">저장</div>
                <div class="edit_cancel">취소</div>
              </div>
            </div>
          </div>
        </div>
        <!-- edit_settings -->
      </div>
    </div>
  </div>
  </div>
</body>

  <script>
    // var checked = $('.edit_react_window * .file * .thumb').attr('src')
    // console.log(checked)
    // for (var i of checked) {
    //   console.log(i)
    //   // i.split('(')[1].split(')')[0]
    // }

    var date = $('.files_date')
    function aa(ab) {
      var ac = document.getElementById(ab)
      if ($(ac).css('display') == 'block') {
        $(ac).css('display', 'none')
        $(ac).removeClass();

      } else {
        $(ac).addClass('checked');
        $(ac).css('display', '')
      }
    }
var a = 0;
$(document).ready(function() {
  $(".edit_group").click(function() {
      $('<div>2017. 07. 29</div>').attr('class', 'files_date').appendTo($('<div class="table_files'+a+'" + >').insertAfter($('.table_files')));
      $('.checked').parent().appendTo($('<div class="files_wrap">').appendTo($('.table_files'+a)));
      // $('.checked').parent().appendTo($('<div class="files_wrap">').appendTo($('<div class="table_files'+i+'" + >').insertAfter($('.table_files'))));
      $('.checked').css('display', 'none');

      $('.checked').removeClass();

      // if ($('.table_files') == $('.table_files' > 'div: empty')) {
      //   $('.table_files').empty();
      //   $('.files_container > div:empty').remove();
      // } else {
      // }
$('.files_wrap:empty').parent().remove();
      // $('.files_wrap > div:empty').parents().remove();
      // .appendTo($('<div class="files_wrap">')
      // $('.files_container > div:empty').remove();
      a++
    })
})


$(document).ready(function() {
 $(".edit_ungroup").click(function() {
  var divs = $('.checked').toArray();
  console.log(divs[1])
  for (i = 0; i < divs.length; i++) {
    $('<div>aa</div>').attr('class', 'files_date').appendTo($('<div class="table_files' +a+'" + >').insertAfter($('.table_files')));
    $(divs[i]).parent().appendTo($('<div class="files_wrap">').appendTo($('.table_files'+a)));
    a++
  }
  $('.checked').css('display', 'none');
  $('.checked').removeClass()
  $('.files_wrap:empty').parent().remove();
})
})

$(document).ready(function() {
  $(".edit_delete").click(function() {
      $('.checked').parent().parent().empty();
      $('.checked').parent().parent().remove();
      $('.files_wrap:empty').parent().remove();
  })

})
  </script>
</html>
