<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>travel_log</title>
  <link rel="stylesheet" type="text/css" href="write.css">
  <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="/maps/documentation/javascript/demos/demos.css"> -->
</head>
  <body>

    <div id="blank-one" class="blank-one">
      <div class="icons">
        <a href="#"><div><span><i id="icons_i" class="fa fa-picture-o fa-3x" aria-hidden="true"></i></span><br><span class="title_hidden">표지사진</span></div></a><br>
        <a href="#"><div><span><i id="icons_i" class="fa fa-lock fa-3x" aria-hidden="true"></i></span><br><span class="title_hidden">모두에게 공개</span></div></a><br>
        <a href="#"><div><span><i id="icons_i" class="fa fa-calendar-check-o fa-3x" aria-hidden="true"></i></span><br><span class="title_hidden">자동 날짜 기록</span></div></a><br>
    </div>
    <textarea placeholder="여행기 제목을 입력해 주세요"></textarea>
    <div class="bb">
      <i class="fa fa-calendar fa-2x" aria-hidden="true"></i>
      <a href="#" class="write_select_date_start"><input class="write_start_date" type="text" placeholder="여행 시작일"> <div id="write_data_arrow" class="write_data_arrow"><i class="fa fa-arrow-right " aria-hidden="true"></i></div><input class="write_end_date" type="text" placeholder="여행 종료일"></a>
      <hr id="aa">
    </div>

    </div>
    <div class="header" id="header"></div>

    <div class="container_main">
      <div class="day_list">
        <div class="day1">
<div class="write_day">
  <h2>1일차<h2>
  <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
  <div class="travel_detail_date">2017.05.05</div>
</div>
<div class="tool_box">
<a href="#" onclick="test('testdiv'); return false;"><i id="ab" class="fa fa-plus-circle fa-2x" aria-hidden="true"></i></a>
<div id="testdiv" style="display:none">
  <a href="#" onclick="test('testdiv_1'); return false;"><img id="testdiv_1" src="./image.png"></a>
  <a href="#" onclick="test('map_container'); initialize(); return false;"><img id="testdiv_2" src="./marker.png"></a>
  <a href="#" onclick="test('testdiv_3'); return false;"><img id="testdiv_2" src="./route.png"></img></a>
<!-- <span><i class="fa fa-picture-o fa-2x" aria-hidden="true"></i></span><span><i class="fa fa-map-marker fa-2x" aria-hidden="true"></i></span><span><i class="fa fa-map fa-2x" aria-hidden="true"></i></span> -->

</div><br>
<div id="map_container">
  <div id="googleMap" style="width:500px;height:380px;"></div>
</div>
<textarea onchange="addition_p('write_addition','testdiv')" class="text_write_box" placeholder="내용을 입력하세요"></textarea>
  <br>

</div>
</div>
</div>
<br>
<a href="#" onclick="adddiv(); return false;"><i id="write_addition" class="fa fa-plus-circle fa-3x" aria-hidden="true"></i></a>







    </div>



    <!-- container_main 태그 -->
    <script src="./node_modules/jquery/dist/jquery.min.js"></script>
    <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDEsgodbW4NrW5grQitDfklBBZhS9hicSY"></script>
<script>



// var plus_circle_count=0;
// function aa(){
// if(plus_circle_count==0){
//   $("#tool_box_hide").css(display,)
//   plus_circle_count=1;
// }
// else{
//   $("#tool_box_hide").css(visibility,"hidden")
//   plus_circle_count=0;
// }
//
//
// }
// $(document).ready(function a(){
//   $("#plus_show").click(function(){ $("#tool_box_hide").show() ; }); });


//
// function aa(){
//           var state = $('#tool_box_hide').css('display'); // state 변수에 ID가 moreMenu인 요소의 display의 속성을 '대입'
//           if(state == 'none'){ // state가 none 상태일경우
//               $('#tool_box_hide').css('display',""); // ID가 moreMenu인 요소를 show();
//           }else{ // 그 외에는
//               $('#tool_box_hide').css('display,"none"'); // ID가 moreMenu인 요소를 hide();
//           }
//     };


  //   $("#plus_show").on({
  //     'click': function() {
  //         //  var src = ($("#list_heart > img").attr('src') == 'white.png')
  //         //     ? 'red.png'
  //         //     : 'white.png';
  //          $("plus_show").attr('display', '"none"');
  //        }
  // });


var tbody = $('.day_list')


  function test(idMyDiv){
       var objDiv = document.getElementById(idMyDiv);
       if(objDiv.style.display=="inline-block"){ objDiv.style.display = "none"; }
        else{ objDiv.style.display = "inline-block";
      }
  }

  function addition_p(aa,bb){
    var objDiv = document.getElementById(aa);
    var bb= document.getElementById(bb);
    objDiv.style.display = "inline-block";
    bb.style.display="none";

$('#ab').css("display","none");



  }
var count=0;

var text1 = $('#text_write_box');
text1.focus(function(){
  $("#ab").css('display','inline');
});

// text1.blur(function(){
//   $("#ab").css('display','none');
// });

function adddiv(){
  $('#ab').css('display',"none");


  $("<div class='day1'>").html("<div class='write_day'><h2><h2>" +
    "<i class='fa fa-pencil-square-o' aria-hidden='true'></i>" +
    "<div class='travel_detail_date'></div></div><div class='tool_box'>"+
    "<a href='#' onclick='test("+ '&#39;'+"testdiv"+count+ '&#39;' +"); return false;'><i id='ab' class='fa fa-plus-circle fa-2x' aria-hidden='true'></i></a>" +
    "<div id='testdiv"+count+"' style='display:none'>"+
    "<a href='#' onclick='test('testdiv_1'); return false;'><img id='testdiv_1' src='./image.png'></a>"+
    "<a href='#' onclick='test("+ '&#39;'+"map_container"+ '&#39;' +"); initialize(); return false;'><img id='testdiv_2' src='./marker.png'></a>"+
    "<a href='#' onclick='test('testdiv_3'); return false;'><img id='testdiv_2' src='./route.png'></img></a>"+
    "</div><br><textarea onchange='addition_p("+ '&#39;'+"write_addition"+ '&#39;'+",&#39;ab&#39;)'class='text_write_box'  placeholder='내용을 입력하세요'></textarea><br></div>"
  ).appendTo(tbody)
count++;

// $('.fa fa-plus-circle fa-2x').css('display',"none");
$('#write_addition').css('display',"none");
// $(this.tool_box).css('display','none')
// console.log($('#testdiv'+count-1));

}



  $(document).ready(function(){ //DOM이 준비되고
      $('#plus_show').click(function(){ // ID가 toggleButton인 요소를 클릭하면
          var state = $('#tool_box_hide').css('display'); // state 변수에 ID가 moreMenu인 요소의 display의 속성을 '대입'
          if(state == 'none'){ // state가 none 상태일경우
              $('#tool_box_hide').attr('display',""); // ID가 moreMenu인 요소를 show();
          }else{ // 그 외에는
              $('#tool_box_hide').attr('display',"none"); // ID가 moreMenu인 요소를 hide();
          }
      });
  });


// 지도
  var map;
var myCenter=new google.maps.LatLng(37.250943, 127.028344);

function initialize()
{
var mapProp = {
  center:myCenter,
  zoom:5,
  mapTypeId:google.maps.MapTypeId.ROADMAP
  };

  map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

  google.maps.event.addListener(map, 'click', function(event) {
    placeMarker(event.latLng);
  });
}

function placeMarker(location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map,
  });
  var infowindow = new google.maps.InfoWindow({
    content: 'Latitude: ' + location.lat() + '<br>Longitude: ' + location.lng()
  });
  infowindow.open(map,marker);
}

google.maps.event.addDomListener(window, 'load', initialize);
</script>

  </body>
</html>
